<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inscription - JobBoard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .card-custom {
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .btn-custom {
            border-radius: 25px;
            padding: 12px 30px;
        }
        .form-control {
            border-radius: 10px;
            border: 2px solid #e9ecef;
            padding: 12px 15px;
        }
        .form-control:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
        }
        .role-card {
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        .role-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        .role-card.selected {
            border-color: #667eea;
            background-color: #f8f9ff;
        }
    </style>
</head>
<body class="gradient-bg">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: rgba(0,0,0,0.1);">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-briefcase me-2"></i>JobBoard
            </a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="/">Accueil</a>
                <a class="nav-link" href="/login.html">Connexion</a>
            </div>
        </div>
    </nav>

    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card card-custom">
                    <div class="card-body p-5">
                        <div class="text-center mb-4">
                            <h2 class="fw-bold text-primary">Créer un compte</h2>
                            <p class="text-muted">Rejoignez JobBoard et trouvez votre stage idéal</p>
                        </div>

                        <form id="registerForm">
                            <!-- Sélection du type de compte -->
                            <div class="mb-4">
                                <label class="form-label fw-bold">Type de compte</label>
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <div class="card role-card h-100" data-role="stagiaire">
                                            <div class="card-body text-center p-4">
                                                <i class="fas fa-user-graduate fa-3x text-primary mb-3"></i>
                                                <h5 class="card-title">Stagiaire</h5>
                                                <p class="card-text text-muted">Je cherche un stage</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="card role-card h-100" data-role="entreprise">
                                            <div class="card-body text-center p-4">
                                                <i class="fas fa-building fa-3x text-success mb-3"></i>
                                                <h5 class="card-title">Entreprise</h5>
                                                <p class="card-text text-muted">Je recrute des stagiaires</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <input type="hidden" id="role" name="role" required>
                            </div>

                            <!-- Informations personnelles -->
                            <div class="row g-3 mb-3">
                                <div class="col-md-6">
                                    <label for="prenom" class="form-label">Prénom *</label>
                                    <input type="text" class="form-control" id="prenom" name="prenom" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="nom" class="form-label">Nom *</label>
                                    <input type="text" class="form-control" id="nom" name="nom" required>
                                </div>
                            </div>

                            <div class="mb-3">
                                <label for="email" class="form-label">Adresse email *</label>
                                <input type="email" class="form-control" id="email" name="email" required>
                            </div>

                            <div class="row g-3 mb-3">
                                <div class="col-md-6">
                                    <label for="password" class="form-label">Mot de passe *</label>
                                    <input type="password" class="form-control" id="password" name="password" required minlength="8">
                                    <div class="form-text">Minimum 8 caractères</div>
                                </div>
                                <div class="col-md-6">
                                    <label for="confirm_password" class="form-label">Confirmer le mot de passe *</label>
                                    <input type="password" class="form-control" id="confirm_password" name="confirm_password" required>
                                </div>
                            </div>

                            <!-- Champs spécifiques selon le rôle -->
                            <div id="stagiaireFields" class="role-specific-fields" style="display: none;">
                                <div class="row g-3 mb-3">
                                    <div class="col-md-6">
                                        <label for="telephone" class="form-label">Téléphone</label>
                                        <input type="tel" class="form-control" id="telephone" name="telephone">
                                    </div>
                                    <div class="col-md-6">
                                        <label for="niveau_etudes" class="form-label">Niveau d'études</label>
                                        <select class="form-control" id="niveau_etudes" name="niveau_etudes">
                                            <option value="">Sélectionner...</option>
                                            <option value="bac">Bac</option>
                                            <option value="bac+1">Bac+1</option>
                                            <option value="bac+2">Bac+2</option>
                                            <option value="bac+3">Bac+3</option>
                                            <option value="bac+4">Bac+4</option>
                                            <option value="bac+5">Bac+5 et plus</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="domaine_etudes" class="form-label">Domaine d'études</label>
                                    <input type="text" class="form-control" id="domaine_etudes" name="domaine_etudes" placeholder="Ex: Informatique, Marketing, etc.">
                                </div>
                            </div>

                            <div id="entrepriseFields" class="role-specific-fields" style="display: none;">
                                <div class="row g-3 mb-3">
                                    <div class="col-md-6">
                                        <label for="nom_entreprise" class="form-label">Nom de l'entreprise *</label>
                                        <input type="text" class="form-control" id="nom_entreprise" name="nom_entreprise">
                                    </div>
                                    <div class="col-md-6">
                                        <label for="secteur" class="form-label">Secteur d'activité</label>
                                        <select class="form-control" id="secteur" name="secteur">
                                            <option value="">Sélectionner...</option>
                                            <option value="informatique">Informatique</option>
                                            <option value="marketing">Marketing</option>
                                            <option value="finance">Finance</option>
                                            <option value="rh">Ressources Humaines</option>
                                            <option value="commerce">Commerce</option>
                                            <option value="industrie">Industrie</option>
                                            <option value="sante">Santé</option>
                                            <option value="education">Éducation</option>
                                            <option value="autre">Autre</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row g-3 mb-3">
                                    <div class="col-md-6">
                                        <label for="taille_entreprise" class="form-label">Taille de l'entreprise</label>
                                        <select class="form-control" id="taille_entreprise" name="taille_entreprise">
                                            <option value="">Sélectionner...</option>
                                            <option value="1-10">1-10 employés</option>
                                            <option value="11-50">11-50 employés</option>
                                            <option value="51-200">51-200 employés</option>
                                            <option value="201-500">201-500 employés</option>
                                            <option value="500+">Plus de 500 employés</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="telephone_entreprise" class="form-label">Téléphone</label>
                                        <input type="tel" class="form-control" id="telephone_entreprise" name="telephone_entreprise">
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="adresse" class="form-label">Adresse</label>
                                    <textarea class="form-control" id="adresse" name="adresse" rows="2" placeholder="Adresse complète de l'entreprise"></textarea>
                                </div>
                            </div>

                            <!-- Conditions d'utilisation -->
                            <div class="mb-4">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="terms" name="terms" required>
                                    <label class="form-check-label" for="terms">
                                        J'accepte les <a href="#" class="text-primary">conditions d'utilisation</a> et la <a href="#" class="text-primary">politique de confidentialité</a>
                                    </label>
                                </div>
                            </div>

                            <!-- Boutons -->
                            <div class="d-grid gap-2">
                                <button type="submit" class="btn btn-primary btn-lg btn-custom">
                                    <i class="fas fa-user-plus me-2"></i>Créer mon compte
                                </button>
                            </div>

                            <div class="text-center mt-3">
                                <p class="text-muted">Vous avez déjà un compte ? <a href="/login.html" class="text-primary">Se connecter</a></p>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Gestion de la sélection du rôle
        document.querySelectorAll('.role-card').forEach(card => {
            card.addEventListener('click', function() {
                // Retirer la sélection des autres cartes
                document.querySelectorAll('.role-card').forEach(c => c.classList.remove('selected'));
                
                // Sélectionner cette carte
                this.classList.add('selected');
                
                // Mettre à jour le champ caché
                const role = this.dataset.role;
                document.getElementById('role').value = role;
                
                // Afficher/masquer les champs spécifiques
                document.querySelectorAll('.role-specific-fields').forEach(field => {
                    field.style.display = 'none';
                });
                
                if (role === 'stagiaire') {
                    document.getElementById('stagiaireFields').style.display = 'block';
                } else if (role === 'entreprise') {
                    document.getElementById('entrepriseFields').style.display = 'block';
                    // Rendre obligatoires certains champs pour les entreprises
                    document.getElementById('nom_entreprise').required = true;
                }
            });
        });

        // Validation du formulaire
        document.getElementById('registerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirm_password').value;
            const role = document.getElementById('role').value;
            
            // Vérifier que le rôle est sélectionné
            if (!role) {
                alert('Veuillez sélectionner un type de compte.');
                return;
            }
            
            // Vérifier que les mots de passe correspondent
            if (password !== confirmPassword) {
                alert('Les mots de passe ne correspondent pas.');
                return;
            }
            
            // Simulation de l'inscription
            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Création en cours...';
            submitBtn.disabled = true;
            
            // Simuler un délai d'inscription
            setTimeout(() => {
                alert('Inscription réussie ! Vous allez être redirigé vers la page de connexion.');
                window.location.href = '/login.html';
            }, 2000);
        });

        // Validation en temps réel des mots de passe
        document.getElementById('confirm_password').addEventListener('input', function() {
            const password = document.getElementById('password').value;
            const confirmPassword = this.value;
            
            if (confirmPassword && password !== confirmPassword) {
                this.setCustomValidity('Les mots de passe ne correspondent pas');
                this.classList.add('is-invalid');
            } else {
                this.setCustomValidity('');
                this.classList.remove('is-invalid');
                if (confirmPassword) {
                    this.classList.add('is-valid');
                }
            }
        });
    </script>
</body>
</html>